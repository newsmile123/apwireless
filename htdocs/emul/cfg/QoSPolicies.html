<HTML>
<HEAD>
	<TITLE>QoS Policies</TITLE><LINK rel="stylesheet" href="../orinoco/css/global.css">
	<SCRIPT language="javascript" src="../orinoco/scripts/library.js"></SCRIPT>
	<SCRIPT language="javascript" src="../orinoco/scripts/test.js"></SCRIPT>
<SCRIPT language="javascript"> 
   
function handleQoStatus(qosCapabilities1, qosCapabilities2) {
   
  if ((qosCapabilities1.length>=44) && (qosCapabilities1.charAt(43)=="0")) {
     document.forms[0].fakeQoS3.disabled=true;
     document.forms[0].MaxMedThreshold3.disabled=true;
  }

  if ((qosCapabilities2.length>=44) && (qosCapabilities2.charAt(43)=="0")) {
     document.forms[0].fakeQoS4.disabled=true;
     document.forms[0].MaxMedThreshold4.disabled=true;
  }
}
                   
function CbActions(checkboxObj, hiddenObj, disabledObj) {
   
  //var hiddenObj = document.getElementById(hiddenId);
  //var disabledObj = document.getElementById(disabledId);
    
  if(checkboxObj.checked==true){
      hiddenObj.value="1";
      disabledObj.disabled=false;
  }
    	
  if(checkboxObj.checked==false){
      hiddenObj.value="2";
      disabledObj.disabled=true;
  }
    	
   modify(hiddenObj);    
}

</SCRIPT>

</HEAD>

<SCRIPT language="javascript">
	grp_live = 1;
	subgrp_live = 7;
	tri_grp_live = 12;
	tri_subgrp_live = 0;
</SCRIPT>

<BODY style="margin:0px" background="../orinoco/images/bg.gif" rightmargin="0" onload="handleQoStatus('00:01:01:00:00:01:01:00:01:01:01:00:00:01:01:01','00:01:01:00:00:01:01:00:01:01:01:00:00:01:01:01')" >

<SCRIPT language="javascript">
var testProductId  = "1.3.6.1.4.1.11898.2.4.12";	 
if((testProductId.indexOf("1.3.6.1.4.1.11898.2.4.10") !=-1)||(testProductId.indexOf("1.3.6.1.4.1.11898.2.4.6") !=-1))  {    //not AP600 or AP2000
   location.href="QoSNotImplemented.html"
}
                                      
</SCRIPT>

<SCRIPT language="javascript" src="../orinoco/scripts/menu.js"></SCRIPT>

<!-- Start Header -->
<!-- <BODY style="margin:0px"> -->
<TABLE width="100%" height="100%" cellpadding="0" cellspacing="0">
	<TR>
		<TD>
			<TABLE width="150" height="90" cellpadding="0" cellspacing="0">
			<TR>
			<TD valign="top"><IMG src="../orinoco/images/logo.gif"></TD>
			</TR>
			<TR>
			<TD align="right">&nbsp;</TD>
			</TR>
			</TABLE>
		</TD>
		<TD valign="bottom">
			<TABLE cellpadding="0" cellspacing="0" width="100%"> <!-- For the table -->
				<!-- For the first row -->
				<TR>
					<TD>
						<TABLE class="tabrow" cellpadding="0" cellspacing="0">
							<SCRIPT language="javascript">
		                            		var ProductId  = "1.3.6.1.4.1.11898.2.4.12";													
                                                                var slotA = '4 ';
		                            		        var slotB = '6 ';
		                            		        var secModeA = '6';  
		                            		        var secModeB = '1';  
								InitMenu(ProductId, slotA, slotB, secModeA, secModeB);
								var nbrTabs = subNumArray[grp_live];
								if(nbrTabs>5)
								{
									var start,finish;
									var nbrTabsDivbyTwo = (nbrTabs - (nbrTabs%2))/2;
									if(subgrp_live >= (nbrTabsDivbyTwo + (nbrTabs%2)) )
									{
										start = 0;
										finish = nbrTabsDivbyTwo -1;
									}
									else
									{
										if ((nbrTabs %2)==0)
										{
											start = nbrTabsDivbyTwo;
											finish = nbrTabs-1;
										}
										else
										{
											start = nbrTabsDivbyTwo+1;
										finish = nbrTabs-1;
									}
										
									}
									drawTabRow(subgrpArray[grp_live],grp_live,subgrp_live,start,finish,1,1);
									document.write('<TD align="middle" background="../orinoco/images/edge.gif">&nbsp;</TD>');
									document.write('</TABLE>');
									document.write('</TD>');
									document.write('</TR>');
									<!-- For the second row -->
									document.write('<TR>');
									document.write('<TD>');
									document.write('<TABLE class="tabrow" cellpadding="0" cellspacing="0">');
									if(subgrp_live >= (nbrTabsDivbyTwo+ (nbrTabs%2)))
									{
										start = nbrTabsDivbyTwo;
										finish = nbrTabs-1;
									}
									else
									{
										if ((nbrTabs %2)==0)
										{
											start = 0;
											finish = nbrTabsDivbyTwo-1;
										}
										else
										{
										start = 0;
											finish = nbrTabsDivbyTwo;
										}
									}
									drawTabRow(subgrpArray[grp_live],grp_live,subgrp_live,start,finish,2,0);
									document.write('<TD align="middle" background="../orinoco/images/iedge.gif">&nbsp;</TD>');
								}
								else
								{
									drawTabRow(subgrpArray[grp_live],grp_live,subgrp_live,0,nbrTabs-1,0,0);
									document.write('<TD align="middle" background="../orinoco/images/edge.gif">&nbsp;</TD>');
								}
							</SCRIPT>
						</TABLE>
					</TD>
				</TR>
			</TABLE>
		</TD>
	</TR>

	
	<TR>
		<TD valign="top">
			<TABLE align="center" cellpadding="10" cellspacing="0">
				<SCRIPT language="javascript">
					drawButtons(grp,grp_live);
				</SCRIPT>
			</TABLE>
		</TD>
<!-- End Header -->

<TD bgcolor="white" height="95%" valign="top">
<TABLE bgcolor="white" style="margin-left:25px; margin-bottom:25; margin-top: 5px" cellspacing="0" cellpadding="0" border="0" width="588">
<!-- Start Subtabs -->

	<TR>
		<TD>
			<TABLE cellpadding="0" cellspacing="0" width="95%">
				<TR>
					<TD>&nbsp;</TD>
				</TR>
				<TR>
					<TD>
						<TABLE cellpadding="0" cellspacing="0" width="100%">
							<TR>
								<TD>
									<TABLE class="tabrow" cellpadding="0" cellspacing="0">
										<SCRIPT language="javascript">
											var nbrTabs = subNumArray[tri_grp_live];
											drawTabRow(subgrpArray[tri_grp_live],tri_grp_live,tri_subgrp_live,0,nbrTabs-1,4,0);
										</SCRIPT>
										<TD align="middle" background="../orinoco/images/edge.gif">&nbsp;</TD>
									</TABLE>
								</TD>
								<TD align="right" class="subtab-corner">&nbsp;</TD>
							</TR>
						</TABLE>
					</TD>
				</TR>
				<!-- End Subtabs -->
				<TR>					
					<TD>
						<TABLE bgcolor="white" cellpadding="0" cellspacing="0" border="0">
						<TR>
							<TD background="../orinoco/images/left_line.gif">&nbsp;</TD>



							<!-- BEGIN CONTENT Watching headlights far away... //-->
							<TD>
								<TABLE>
									<TR>
										<TD class="verbiage">
										    <P>This page is used to enable or disable the Quality of Service (QoS) feature and to configure QoS policies for each wireless interface.  There are 5 possible QoS policy types to configure - Inbound Layer 2, outbound Layer 2, inbound Layer 3, outbound Layer 3, and SpectraLink.  When a QoS policy is added, an entry for each QoS policy type is created with default values.  You can then modify the default values for each QoS Policy type, if desired, and enable the QoS policy type.  Depending on the policy type, a policy mapping index should be specified.  For Layer 2 policies, an index from the 802.1p to 802.1D mapping table should be specified.  For Layer 3 policies, an index from the 802.1p to IP DSCP mapping table should be specified.  No mapping index is required for SpectraLink policy types.  QoS marking are also supported and can be configured per policy type; QoS marking can be enabled or disabled.</P>
											<P>The SSID table is used to apply QoS Policies configured in the Policy Table.  Go to the <A href ="vlanGroups.html">SSID/VLAN/Security</A> page and there you can specify the QoS Policy to be applied per SSID based on the policy index number</P>
                                            <P><i>Note: Like with adding a QoS Policy, when a QoS policy is deleted, all 5 QoS policy types are deleted.  If you do not wish to have all 5 policy types per policy do not delete them, simply disable the ones that are not desired.</i></P>
											<P><i>Note: Changes to these parameters require access point reboot in order to take effect.</i></P>
										</TD>
									</TR>
								</TABLE>	
								<FORM method="post" ACTION="/cfg/QoSPolicies.html/systemconfig">
								<TABLE cellpadding="1" border="0" cellspacing="1" width="400">
								   <TR>                                                
							        <SCRIPT  LANGUAGE="JavaScript" >                                     
                                        var qosCapabilities='00:01:01:00:00:01:01:00:01:01:01:00:00:01:01:01';
                                        var qoshidden='QoS3';
                                        var qosdisabled='MaxMedThreshold3'
                                        var option = 2;

                                        if ((qosCapabilities.length>=44) && (qosCapabilities.charAt(43)=="1")) {
                                           option = 2;
                                        } 
									 
									    document.write('<TR><TD class="header">Wireless A</TD><TR>');
                                        document.write('<TR><TD><INPUT type="hidden" id="QoS3" name="EmWeb_ns:snmp:34.3" VALUE="2">Enable Quality of Service </TD>');
                                        document.write('<TD><INPUT type="checkbox" id="fakeQoS3" onClick="CbActions(this,'+qoshidden+','+qosdisabled+');" ');
                                        if(option==1){ document.write(' CHECKED '); }
                                        document.write('></TD></TR>');              
                                        if ((qosCapabilities.length>=44) && (qosCapabilities.charAt(43)=="0")) { document.forms[0].fakeQoS3.disabled; }
                                        document.write('<TR>');
                                        document.write('<TD>QoS Maximum Medium Threshold (50-90)</TD>');
                                        document.write('<TD><INPUT onChange="modify(this)" class="formtext" type="text" name="EmWeb_ns:snmp:35.3" id="MaxMedThreshold3" VALUE="90"></TD>');
                                        document.write('</TR><TR><TD colspan="2" align="center">&nbsp;</TD></TR>');
                                        
                                        var apId  = "1.3.6.1.4.1.11898.2.4.12";
                                        if((apId.indexOf("1.3.6.1.4.1.11898.2.4.12") !=-1)||(apId.indexOf("1.3.6.1.4.1.11898.2.4.14") !=-1))  {    //AP4000

                                        qosCapabilities='00:01:01:00:00:01:01:00:01:01:01:00:00:01:01:01';
                                        qoshidden='QoS4';
                                        qosdisabled='MaxMedThreshold4'
                                        option = 2;
                                            
                                        if ((qosCapabilities.length>=44) && (qosCapabilities.charAt(43)=="1")) {
                                           var option=eval('2');
                                        }
                                            
                                        document.write('<TR><TD class="header">Wireless B</TD><TR>');
                                        document.write('<TR><TD><INPUT type="hidden" id="QoS4" name="EmWeb_ns:snmp:34.4" VALUE="2">Enable Quality of Service </TD>');
                                        document.write('    <TD><INPUT type="checkbox" id="fakeQoS4" onClick="CbActions(this,'+qoshidden+','+qosdisabled+');" ');
                                        if(option==1){ document.write(' CHECKED '); }
                                        document.write('></TD></TR>');
                                        if ((qosCapabilities.length>=44) && (qosCapabilities.charAt(43)=="0")) { document.forms[0].fakeQoS4.disabled; }
                                        document.write('<TR>');
                                        document.write('<TD>QoS Maximum Medium Threshold (50-90)</TD>');
                                        document.write('<TD><INPUT onChange="modify(this)" class="formtext" type="text" name="EmWeb_ns:snmp:35.4" id="MaxMedThreshold4" VALUE="90"></TD>');
                                        document.write('</TR>');
                                        }
									</SCRIPT> 
									<TR><TD colspan="2" align="center">&nbsp;</TD></TR>                            
									<TR>
										<TD colspan="2" align="center">
											<TABLE cellpadding="0" cellpadding="0" border="0" width="270">
											<TR>
												<TD align="center"><A href="javascript:transmit()"><IMG src="../orinoco/images/ok.gif" width="93" height="25" alt="OK" border="0"></TD>
												<TD align="center"><A href="javascript:cancel()"><IMG src="../orinoco/images/cancel.gif" width="93" height="25" alt="Cancel" border="0"></TD>
											</TR>
										</TABLE>
									</TD>
									</TR>
									<TR>
										<TD class="header" colspan="2">QoS Policies Table</TD>
									</TR>
									<TR>
										<TD colspan="2">
										<TABLE cellpadding="0" cellspacing="0" border="0">
	<TR>
		<TD><IMG src="../orinoco/images/topleft_corner.gif" width="25" height="25" alt="" border="0"></TD>
		<TD width="100%"><IMG src="../orinoco/images/top_line.gif" width="100%" height="25" alt="" border="0"></TD>
		<TD><IMG src="../orinoco/images/topright_corner.gif" width="25" height="25" alt="" border="0"></TD>
	</TR>
	<TR>
		<TD background="../orinoco/images/left_line.gif">&nbsp;</TD>


													<!-- Dump Contents Here! -->
													<TD valign="middle">
														<TABLE cellpadding="0" cellspacing="0" border="0" width="500" align="center">
															<TR>
																<TD colspan="5" align="center">
																	<TABLE width="270" cellpadding="0" cellspacing="0">
																		<TR>
																			<TD align="center"><A href="addedit/QoSPolicies-add.html"><IMG border="0" src="../orinoco/images/button-add.gif"></A></TD>
																			<TD align="center"><A href="addedit/QoSPolicies-edit.html"><IMG src="../orinoco/images/button-edit.gif" border="0"></A></TD>
																		</TR>
																		<TR>
																			<TD colspan="2"><IMG src="../orinoco/images/spacer.gif" width="100%" height="15"></TD>
																		</TR>
																	</TABLE>
																</TD>
															</TR>
															<TR>
																<TD class="tableheader">Index</TD>
																<TD class="tableheader">Policy Name</TD>
																<TD class="tableheader">Policy Type</TD>
																<TD ALIGN="CENTER" class="tableheader">Priority</TD>
																<TD ALIGN="CENTER" class="tableheader">QoS</TD>
																<TD ALIGN="CENTER" class="tableheader">Row</TD>
															</TR>
															 <TR>
																<TD class="tableheader">&nbsp;</TD>
																<TD class="tableheader">&nbsp;</TD>
																<TD class="tableheader">&nbsp;</TD>
																<TD ALIGN="CENTER" class="tableheader">Mapping</TD>
																<TD ALIGN="CENTER" class="tableheader">Marking</TD>
																<TD ALIGN="CENTER" class="tableheader">Status</TD>
															</TR>

															<SCRIPT language="JavaScript"> oldPrimaryIndex=' ';</script>
															
															
															
																<SCRIPT language="JavaScript">
																	currentPrimaryIndex=1
																	if (currentPrimaryIndex!=oldPrimaryIndex) {
																	   document.write('<TR><TD>&nbsp;</TD></TR>');                                                   
                                                                    }
                                                                    oldPrimaryIndex=currentPrimaryIndex;
                                                                 </script>
																<TR>
																<TD>1.1</TD>                                                                                                
																<TD>Default</TD>
																<TD><SCRIPT language="JavaScript">var option = 1;
                                                                    switch (option)
                                                                    {
                                                                    case 1: document.write('inboundLayer2'); break; 
                                                                    case 2: document.write('inboundLayer3'); break;
                                                                    case 3: document.write('outboundLayer2'); break;
                                                                    case 4: document.write('outboundLayer3'); break;
                                                                    case 5: document.write('spectralink');   break;
                                                                    default: document.write("&nbsp;"); break;
                                                                    }
                                                                    </script>
                                                                   </TD>
																<TD>1</TD>
																<TD><SCRIPT language="JavaScript">
                                                                    var option = 1;  
                                                                    document.write('<INPUT type="checkbox" id="oriQoSPolicyMarkingStatus?emweb:/tableInst" name="EmWeb_ns:snmp:42.1.1" ');
                                                                    if (option==1) { document.write(' CHECKED '); }
                                                                    document.write(' disabled>');
                                                                    
                                                                     
                                                                </SCRIPT></TD>                                                
																<TD><SCRIPT language="JavaScript">var option = 1; tableStatus(option) </SCRIPT></TD>
															</TR>
															
															
																<SCRIPT language="JavaScript">
																	currentPrimaryIndex=1
																	if (currentPrimaryIndex!=oldPrimaryIndex) {
																	   document.write('<TR><TD>&nbsp;</TD></TR>');                                                   
                                                                    }
                                                                    oldPrimaryIndex=currentPrimaryIndex;
                                                                 </script>
																<TR>
																<TD>1.2</TD>                                                                                                
																<TD>Default</TD>
																<TD><SCRIPT language="JavaScript">var option = 2;
                                                                    switch (option)
                                                                    {
                                                                    case 1: document.write('inboundLayer2'); break; 
                                                                    case 2: document.write('inboundLayer3'); break;
                                                                    case 3: document.write('outboundLayer2'); break;
                                                                    case 4: document.write('outboundLayer3'); break;
                                                                    case 5: document.write('spectralink');   break;
                                                                    default: document.write("&nbsp;"); break;
                                                                    }
                                                                    </script>
                                                                   </TD>
																<TD>1</TD>
																<TD><SCRIPT language="JavaScript">
                                                                    var option = 1;  
                                                                    document.write('<INPUT type="checkbox" id="oriQoSPolicyMarkingStatus?emweb:/tableInst" name="EmWeb_ns:snmp:42.1.2" ');
                                                                    if (option==1) { document.write(' CHECKED '); }
                                                                    document.write(' disabled>');
                                                                    
                                                                     
                                                                </SCRIPT></TD>                                                
																<TD><SCRIPT language="JavaScript">var option = 1; tableStatus(option) </SCRIPT></TD>
															</TR>
															
															
																<SCRIPT language="JavaScript">
																	currentPrimaryIndex=1
																	if (currentPrimaryIndex!=oldPrimaryIndex) {
																	   document.write('<TR><TD>&nbsp;</TD></TR>');                                                   
                                                                    }
                                                                    oldPrimaryIndex=currentPrimaryIndex;
                                                                 </script>
																<TR>
																<TD>1.3</TD>                                                                                                
																<TD>Default</TD>
																<TD><SCRIPT language="JavaScript">var option = 3;
                                                                    switch (option)
                                                                    {
                                                                    case 1: document.write('inboundLayer2'); break; 
                                                                    case 2: document.write('inboundLayer3'); break;
                                                                    case 3: document.write('outboundLayer2'); break;
                                                                    case 4: document.write('outboundLayer3'); break;
                                                                    case 5: document.write('spectralink');   break;
                                                                    default: document.write("&nbsp;"); break;
                                                                    }
                                                                    </script>
                                                                   </TD>
																<TD>1</TD>
																<TD><SCRIPT language="JavaScript">
                                                                    var option = 1;  
                                                                    document.write('<INPUT type="checkbox" id="oriQoSPolicyMarkingStatus?emweb:/tableInst" name="EmWeb_ns:snmp:42.1.3" ');
                                                                    if (option==1) { document.write(' CHECKED '); }
                                                                    document.write(' disabled>');
                                                                    
                                                                     
                                                                </SCRIPT></TD>                                                
																<TD><SCRIPT language="JavaScript">var option = 1; tableStatus(option) </SCRIPT></TD>
															</TR>
															
															
																<SCRIPT language="JavaScript">
																	currentPrimaryIndex=1
																	if (currentPrimaryIndex!=oldPrimaryIndex) {
																	   document.write('<TR><TD>&nbsp;</TD></TR>');                                                   
                                                                    }
                                                                    oldPrimaryIndex=currentPrimaryIndex;
                                                                 </script>
																<TR>
																<TD>1.4</TD>                                                                                                
																<TD>Default</TD>
																<TD><SCRIPT language="JavaScript">var option = 4;
                                                                    switch (option)
                                                                    {
                                                                    case 1: document.write('inboundLayer2'); break; 
                                                                    case 2: document.write('inboundLayer3'); break;
                                                                    case 3: document.write('outboundLayer2'); break;
                                                                    case 4: document.write('outboundLayer3'); break;
                                                                    case 5: document.write('spectralink');   break;
                                                                    default: document.write("&nbsp;"); break;
                                                                    }
                                                                    </script>
                                                                   </TD>
																<TD>1</TD>
																<TD><SCRIPT language="JavaScript">
                                                                    var option = 1;  
                                                                    document.write('<INPUT type="checkbox" id="oriQoSPolicyMarkingStatus?emweb:/tableInst" name="EmWeb_ns:snmp:42.1.4" ');
                                                                    if (option==1) { document.write(' CHECKED '); }
                                                                    document.write(' disabled>');
                                                                    
                                                                     
                                                                </SCRIPT></TD>                                                
																<TD><SCRIPT language="JavaScript">var option = 1; tableStatus(option) </SCRIPT></TD>
															</TR>
															
															
																<SCRIPT language="JavaScript">
																	currentPrimaryIndex=1
																	if (currentPrimaryIndex!=oldPrimaryIndex) {
																	   document.write('<TR><TD>&nbsp;</TD></TR>');                                                   
                                                                    }
                                                                    oldPrimaryIndex=currentPrimaryIndex;
                                                                 </script>
																<TR>
																<TD>1.5</TD>                                                                                                
																<TD>Default</TD>
																<TD><SCRIPT language="JavaScript">var option = 5;
                                                                    switch (option)
                                                                    {
                                                                    case 1: document.write('inboundLayer2'); break; 
                                                                    case 2: document.write('inboundLayer3'); break;
                                                                    case 3: document.write('outboundLayer2'); break;
                                                                    case 4: document.write('outboundLayer3'); break;
                                                                    case 5: document.write('spectralink');   break;
                                                                    default: document.write("&nbsp;"); break;
                                                                    }
                                                                    </script>
                                                                   </TD>
																<TD>1</TD>
																<TD><SCRIPT language="JavaScript">
                                                                    var option = 1;  
                                                                    document.write('<INPUT type="checkbox" id="oriQoSPolicyMarkingStatus?emweb:/tableInst" name="EmWeb_ns:snmp:42.1.5" ');
                                                                    if (option==1) { document.write(' CHECKED '); }
                                                                    document.write(' disabled>');
                                                                    
                                                                     
                                                                </SCRIPT></TD>                                                
																<TD><SCRIPT language="JavaScript">var option = 1; tableStatus(option) </SCRIPT></TD>
															</TR>
															
														</TABLE>
														<!-- End customized table -->
										</TD>
												<TD background="../orinoco/images/right_line.gif">&nbsp;</TD>
	</TR>
	<TR>
		<TD><IMG src="../orinoco/images/bottomleft_corner.gif" width="25" height="25" alt="" border="0"></TD>
		<TD><IMG src="../orinoco/images/bottom_line.gif" width="100%" height="25" alt="" border="0"></TD>
		<TD><IMG src="../orinoco/images/bottomright_corner.gif" width="25" height="25" alt="" border="0"></TD>
	</TR>
</TABLE>

									</TR>                                                                             
								</TABLE>                                                                              
								</FORM>                                                                                      
							</TD>                                                                                                
							<!-- END CONTENT //-->                                                                    
                                                                                                                      

							<TD background="../orinoco/images/right_line.gif">&nbsp;</TD>
						</TR>
						<TR>
							<TD><IMG src="../orinoco/images/bottomleft_corner.gif" width="25" height="25" alt="" border="0"></TD>
							<TD><IMG src="../orinoco/images/bottom_line.gif" width="100%" height="25" alt="" border="0"></TD>
							<TD><IMG src="../orinoco/images/bottomright_corner.gif" width="25" height="25" alt="" border="0"></TD>
						</TR>

						</TABLE>
					</TD>
				</TR>
			</TABLE>


		</TD>
	</TR>
</TR>
</TABLE>

<!-- Start Footer -->
	<FORM name="rebootform" method="post" ACTION="/prototail.html">
		<INPUT type="hidden" id="rebootflag" name="EmWeb_ns:snmp:568" value="0" class="formtext">
	</FORM>

	</TR>
</TABLE>
</BODY>
</HTML>
<!-- End Footer -->

                                                                        

</BODY>
</HTML>
