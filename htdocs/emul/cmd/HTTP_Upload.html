<HTML>
<HEAD>
	<TITLE>HTTPUpload Command</TITLE><LINK rel="stylesheet" href="../orinoco/css/global.css">
	<SCRIPT language="javascript" src="../orinoco/scripts/library.js"></SCRIPT>
</HEAD>

<BODY style="margin:0px" background="../orinoco/images/bg.gif">

<SCRIPT language="javascript">
	grp_live = 3;
	subgrp_live = 0;
	tri_grp_live = 14;
	tri_subgrp_live = 1;	
	var requestSubmitted = false;
</SCRIPT>

<SCRIPT language="javascript" src="../orinoco/scripts/menu.js"></SCRIPT>

<!-- Start Header -->
<!-- <BODY style="margin:0px"> -->
<TABLE width="100%" height="100%" cellpadding="0" cellspacing="0">
	<TR>
		<TD>
			<TABLE width="150" height="90" cellpadding="0" cellspacing="0">
			<TR>
			<TD valign="top"><IMG src="../orinoco/images/logo.gif"></TD>
			</TR>
			<TR>
			<TD align="right">&nbsp;</TD>
			</TR>
			</TABLE>
		</TD>
		<TD valign="bottom">
			<TABLE cellpadding="0" cellspacing="0" width="100%"> <!-- For the table -->
				<!-- For the first row -->
				<TR>
					<TD>
						<TABLE class="tabrow" cellpadding="0" cellspacing="0">
							<SCRIPT language="javascript">
		                            		var ProductId  = "1.3.6.1.4.1.11898.2.4.12";													
                                                                var slotA = '4 ';
		                            		        var slotB = '6 ';
		                            		        var secModeA = '6';  
		                            		        var secModeB = '1';  
								InitMenu(ProductId, slotA, slotB, secModeA, secModeB);
								var nbrTabs = subNumArray[grp_live];
								if(nbrTabs>5)
								{
									var start,finish;
									var nbrTabsDivbyTwo = (nbrTabs - (nbrTabs%2))/2;
									if(subgrp_live >= (nbrTabsDivbyTwo + (nbrTabs%2)) )
									{
										start = 0;
										finish = nbrTabsDivbyTwo -1;
									}
									else
									{
										if ((nbrTabs %2)==0)
										{
											start = nbrTabsDivbyTwo;
											finish = nbrTabs-1;
										}
										else
										{
											start = nbrTabsDivbyTwo+1;
										finish = nbrTabs-1;
									}
										
									}
									drawTabRow(subgrpArray[grp_live],grp_live,subgrp_live,start,finish,1,1);
									document.write('<TD align="middle" background="../orinoco/images/edge.gif">&nbsp;</TD>');
									document.write('</TABLE>');
									document.write('</TD>');
									document.write('</TR>');
									<!-- For the second row -->
									document.write('<TR>');
									document.write('<TD>');
									document.write('<TABLE class="tabrow" cellpadding="0" cellspacing="0">');
									if(subgrp_live >= (nbrTabsDivbyTwo+ (nbrTabs%2)))
									{
										start = nbrTabsDivbyTwo;
										finish = nbrTabs-1;
									}
									else
									{
										if ((nbrTabs %2)==0)
										{
											start = 0;
											finish = nbrTabsDivbyTwo-1;
										}
										else
										{
										start = 0;
											finish = nbrTabsDivbyTwo;
										}
									}
									drawTabRow(subgrpArray[grp_live],grp_live,subgrp_live,start,finish,2,0);
									document.write('<TD align="middle" background="../orinoco/images/iedge.gif">&nbsp;</TD>');
								}
								else
								{
									drawTabRow(subgrpArray[grp_live],grp_live,subgrp_live,0,nbrTabs-1,0,0);
									document.write('<TD align="middle" background="../orinoco/images/edge.gif">&nbsp;</TD>');
								}
							</SCRIPT>
						</TABLE>
					</TD>
				</TR>
			</TABLE>
		</TD>
	</TR>

	
	<TR>
		<TD valign="top">
			<TABLE align="center" cellpadding="10" cellspacing="0">
				<SCRIPT language="javascript">
					drawButtons(grp,grp_live);
				</SCRIPT>
			</TABLE>
		</TD>
<!-- End Header -->

<TD bgcolor="white" height="95%" valign="top">
<TABLE bgcolor="white" style="margin-left:25px; margin-bottom:25; margin-top: 5px" cellspacing="0" cellpadding="0" border="0" width="588">
<!-- Start Subtabs -->

	<TR>
		<TD>
			<TABLE cellpadding="0" cellspacing="0" width="95%">
				<TR>
					<TD>&nbsp;</TD>
				</TR>
				<TR>
					<TD>
						<TABLE cellpadding="0" cellspacing="0" width="100%">
							<TR>
								<TD>
									<TABLE class="tabrow" cellpadding="0" cellspacing="0">
										<SCRIPT language="javascript">
											var nbrTabs = subNumArray[tri_grp_live];
											drawTabRow(subgrpArray[tri_grp_live],tri_grp_live,tri_subgrp_live,0,nbrTabs-1,4,0);
										</SCRIPT>
										<TD align="middle" background="../orinoco/images/edge.gif">&nbsp;</TD>
									</TABLE>
								</TD>
								<TD align="right" class="subtab-corner">&nbsp;</TD>
							</TR>
						</TABLE>
					</TD>
				</TR>
				<!-- End Subtabs -->
				<TR>					
					<TD>
						<TABLE bgcolor="white" cellpadding="0" cellspacing="0" border="0">
						<TR>
							<TD background="../orinoco/images/left_line.gif">&nbsp;</TD>



<TD bgcolor="white" height="95%" valign="top">
<FORM method="post" onSubmit="return checkSubmit()" ENCTYPE="multipart/form-data" ACTION="/cmd/HTTP_Upload.html">
 
	<TABLE cellpadding="0" cellspacing="0" style="margin-left:25px; margin-bottom:25px; margin-top:5px" border="0" width="588">
		<TR>
			<TD colspan="2">
				<TABLE cellpadding="2" cellspacing="0" width="80%" border="0">
					<TR>
						<TD class="verbiage">
							<P>This page is used to update software images, license file and configuration files in the Access Point using HTTP file transfer.  
							       Click on the browse button to search for the file or enter the path in the text box.  Select the file type and click
							       the Update AP button to start the file transfer.</P>
							<P><font color="#FF6600">Note: If you select "Config" as the File Type, the Access Point will automatically reboot.</font></P>      
						</TD>
					</TR>
				</TABLE>

				<TABLE cellpadding="2" cellspacing="0" width="60%" border="0">
					<TR>
						<TD colspan="2" class="header">System Information</TD>
					</TR>
					<TR>
						<TD>Software Version</TD>
						<TD class="readonly">
							<SCRIPT LANGUAGE="JavaScript">
								
									if ( 1 == 3 )
									{
										document.write( 1 + '.' + 0 + '.' + 0 )
									}
								
									if ( 2 == 3 )
									{
										document.write( 1 + '.' + 0 + '.' + 0 )
									}
								
									if ( 3 == 3 )
									{
										document.write( 3 + '.' + 6 + '.' + 3 )
									}
								
									if ( 4 == 3 )
									{
										document.write( 1 + '.' + 0 + '.' + 0 )
									}
								
									if ( 5 == 3 )
									{
										document.write( 3 + '.' + 1 + '.' + 0 )
									}
								
									if ( 6 == 3 )
									{
										document.write( 3 + '.' + 71 + '.' + 0 )
									}
								
									if ( 7 == 3 )
									{
										document.write( 0 + '.' + 1 + '.' + 1 )
									}
								
									if ( 8 == 3 )
									{
										document.write( 0 + '.' + 0 + '.' + 0 )
									}
								
									if ( 9 == 3 )
									{
										document.write( 1 + '.' + 1 + '.' + 1 )
									}
								
							</SCRIPT>
						</TD>
					</TR>
					<TR>
						<TD>Boot Loader Version</TD>
						<TD class="readonly">
							<SCRIPT LANGUAGE="JavaScript">
								
								    if ( 1 == 5 )
									{
									    document.write( 1 + '.' + 0 + '.' + 0 )
									}
								
								    if ( 2 == 5 )
									{
									    document.write( 1 + '.' + 0 + '.' + 0 )
									}
								
								    if ( 3 == 5 )
									{
									    document.write( 3 + '.' + 6 + '.' + 3 )
									}
								
								    if ( 4 == 5 )
									{
									    document.write( 1 + '.' + 0 + '.' + 0 )
									}
								
								    if ( 5 == 5 )
									{
									    document.write( 3 + '.' + 1 + '.' + 0 )
									}
								
								    if ( 6 == 5 )
									{
									    document.write( 3 + '.' + 71 + '.' + 0 )
									}
								
								    if ( 7 == 5 )
									{
									    document.write( 0 + '.' + 1 + '.' + 1 )
									}
								
								    if ( 8 == 5 )
									{
									    document.write( 0 + '.' + 0 + '.' + 0 )
									}
								
								    if ( 9 == 5 )
									{
									    document.write( 1 + '.' + 1 + '.' + 1 )
									}
								
							</SCRIPT>
						</TD>
					</TR>
					<TR>	
				</TABLE>

				<BR>
				
				<TABLE cellpadding="2" cellspacing="0" border="0" width="60%">
					<TR>
						 <TD>File Type<TD> 
						 <TD>
							<SELECT name="Choose" SIZE="1">
							<OPTION value="Image" >Image</option>
							<OPTION value="Config" >Config</option>
							<OPTION value="SSL_Certificate" >SSL Certificate</option>							
							<OPTION value="SSL_PrivateKey" >SSL PrivateKey</option>														
							<OPTION value="UpgradeBSPBL" >UpgradeBSPBL</option>																					
							<OPTION value="CliBatchFile" >CLI Batch File</option>																					
							<OPTION value="SSH_Public_Key" >SSH Public Key</option>																					
							<OPTION value="SSH_Private_Key" >SSH Private Key</option>														
							<OPTION value="License_File" >License File</option>
							</SELECT>
						</TD>
						</TR>			
					<TR>
						 <TD>File Name<TD>					
						<TD> 
						<INPUT TYPE="file" NAME=".UploadFile_handle" MAXLENGTH="255" VALUE="">
						</TD>
					</TR>
				 </TABLE>

					<BR>
					
					<TR>
					<TD colspan="2">
					<TABLE cellpadding="2" cellspacing="0" border="0" width="60%">
						<TR>
						    <TD align="right">
							<INPUT TYPE="submit" width="93" height="25" border="0" VALUE="Update AP">
							</TD>
							<TD align="center">
						 	<INPUT TYPE=RESET VALUE="Cancel" width="93" height="25" alt="Cancel" border="0">
						 	</TD>
						</TR>
						</TABLE>
					</TD>
					</TR>   
			</TD>
		</TR>
	</TABLE>

<script language="JavaScript" type="text/javascript" >
var scrollCounter = 0;
var scrollDelay   = 80;
var i = 0;
var  scrollText = 'Update via HTTP in progress. Please wait...'
function Scroller() 
	{
		while (i ++ < 140)
	        	scrollText = " " + scrollText;

	        window.status = scrollText.substring(scrollCounter++,scrollText.length);
		if (scrollCounter == scrollText.length) 
			{
				scrollCounter = 0;
			}
	        setTimeout("Scroller()", scrollDelay);
	}
	
	function checkSubmit() 
		{ 
	       
			 if(requestSubmitted == true) 
			 	{
		        	 alert("Update via HTTP in Progress." + 
	       		     	" Please Wait .. ");
	       		     	return false;
		         }
			else 
			   {

				var Index=document.forms[0].Choose.selectedIndex;
				var fileType;
				var ConfirmMsg = "You are updating ";
				var msgString = " file to the AP. You will need to reboot the device for changes to take effect. Do you want to proceed ?";
				var msgString1 = " file to the AP.  Do you want to proceed ?";


				if ( 0 == Index)
				  fileType = "Image";
				if ( 1 == Index)
				{
				  msgString = " file to the AP. Do you want to proceed ?";
				  fileType = "Config";
				}
				if ( 2 == Index)
				  fileType = "Certificate";
				if ( 3 == Index)
				  fileType = "Private Key";
				if ( 4 == Index)
				  fileType = "Bsp/BL";
				if ( 5 == Index)
				  fileType = "CLI Batch";
				if ( 6 == Index)
				  fileType = "SSH Public Key";
				if ( 7 == Index)
				  fileType = "SSH Private Key";
				if ( 8 == Index)
				  fileType = "License";

		        if ( 5== Index || 6 == Index || 7 == Index)
					ConfirmMsg += fileType + msgString1;					
				else				  
				ConfirmMsg += fileType + msgString;
				
			   	if ( confirm(ConfirmMsg) )
		       	 {
					requestSubmitted = true;
					/*window.status = "Upload in progress. Please wait..";*/
					Scroller();
					return true;
				 }
				else
					return false;
			  }
    	} 
</script>
</FORM>
</TD>


							<TD background="../orinoco/images/right_line.gif">&nbsp;</TD>
						</TR>
						<TR>
							<TD><IMG src="../orinoco/images/bottomleft_corner.gif" width="25" height="25" alt="" border="0"></TD>
							<TD><IMG src="../orinoco/images/bottom_line.gif" width="100%" height="25" alt="" border="0"></TD>
							<TD><IMG src="../orinoco/images/bottomright_corner.gif" width="25" height="25" alt="" border="0"></TD>
						</TR>

						</TABLE>
					</TD>
				</TR>
			</TABLE>


		</TD>
	</TR>
</TR>
</TABLE>

<!-- Start Footer -->
	<FORM name="rebootform" method="post" ACTION="/prototail.html">
		<INPUT type="hidden" id="rebootflag" name="EmWeb_ns:snmp:568" value="0" class="formtext">
	</FORM>

	</TR>
</TABLE>
</BODY>
</HTML>
<!-- End Footer -->




</BODY>
</HTML>
